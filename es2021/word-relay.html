<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>끝말잇기</title>
		<style></style>
	</head>
	<body>
		<div><span id="order">1</span>번째 참가자</div>
		<div>제시어:<span id="word"></span></div>
		<input type="text" />
		<button>입력</button>
		<script>
			const number = parseInt(prompt("몇명이 참여하나요?"), 10);
			const $button = document.querySelector("button");
			const $input = document.querySelector("input");
			const $word = document.querySelector("#word");
			const $order = document.querySelector("#order");
			let word; //제시어
			let newWord; //새로입력한단어
			$input.addEventListener("input", onInput);
			$button.addEventListener("click", onClickButton);

			const onClickButton = () => {
				if (!word || word[word.length - 1] === newWord[0]) {
					word = newWord;
					$word.textContent = word;
					const order = Number($order.textContent);
					if (order + 1 > number) {
						$order.textContent = 1;
					} else {
						$order.textContent = order + 1;
					}
				} else {
					alert("다시 입력하세요.");
				}
				$input.value = "";
				$input.focus();
			};
			const onInput = (event) => {
				newWord = event.target.value;
			};

			// const onClickButton = () => {
			// 	if (!word) {
			// 		word = newWord;
			// 		$word.textContent = word;
			// 		const order = Number($order.textContent);
			// 		if (order + 1 > number) {
			// 			$order.textContent = 1;
			// 		} else {
			// 			$order.textContent = order + 1;
			// 		}
			// 		$input.value = "";
			// 		$input.focus();
			// 	} else {
			// 		if (word[word.length - 1] === newWord[0]) {
			// 			word = newWord;
			// 			$word.textContent = word;
			// 			const order = Number($order.textContent);
			// 			if (order + 1 > number) {
			// 				$order.textContent = 1;
			// 			} else {
			// 				$order.textContent = order + 1;
			// 			}
			// 			$input.value = "";
			// 			$input.focus();
			// 		} else {
			// 			alert("다시 입력하세요.");
			// 			$input.value = "";
			// 			$input.focus();
			// 		}
			// 	}
			// };
			// const onInput = (event) => {
			// 	newWord = event.target.value;
			// };
		</script>
	</body>
</html>
